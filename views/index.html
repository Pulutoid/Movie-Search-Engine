{% extends "base.html" %}
{% block mainContent %}
<!-- Main content area extending from base template -->

<!-- Hero Section with Welcome Message -->
<div id="hero-section" class="text-center text-white">
    <div class="container">
        <h1 class="display-4">Welcome to The</h1>
        <h1 class="LogoText display-1">Tech Blog 2023</h1>
        <p class="lead">The best place to share your knowledge and make the world better</p>
        <a href="./new_movie.html" class="btn btn-success mt-4">Create a Movie</a>
    </div>
</div>

<!-- Advanced Search Form -->
<div class="container mt-5">
    <form action="/search" method="get" class="bg-dark text-white p-4 rounded">
        <div class="row">
            <!-- Genre Selection -->
            <div class="col-md-4 mb-3">
                <label for="genres" class="form-label">Select Genres</label>
                <select name="genres" id="genres" class="form-select" multiple>
                    <option value="Short">Short</option>
                    <option value="Animation">Animation</option>
                    <option value="Documentary">Documentary</option>
                    <option value="Comedy">Comedy</option>
                    <option value="Drama">Drama</option>
                    <option value="Action">Action</option>
                    <!-- Add more options as needed -->
                </select>
            </div>
            <!-- Year Range -->
            <div class="col-md-4 mb-3">
                <label for="year" class="form-label">Year</label>
                <input type="number" name="year" id="year" class="form-control" placeholder="e.g., 2020">
            </div>
            <!-- IMDb Rating Range -->
            <div class="col-md-4 mb-3">
                <label for="rating" class="form-label">IMDb Rating</label>
                <div class="d-flex">
                    <input type="number" step="0.1" name="minRating" id="minRating" class="form-control me-2"
                        placeholder="Min" min="0" max="10">
                    <input type="number" step="0.1" name="maxRating" id="maxRating" class="form-control"
                        placeholder="Max" min="0" max="10">
                </div>
            </div>
        </div>
        <div class="row">
            <!-- Director -->
            <div class="col-md-6 mb-3">
                <label for="director" class="form-label">Director</label>
                <input type="text" name="director" id="director" class="form-control" placeholder="Director's Name">
            </div>
            <!-- Cast -->
            <div class="col-md-6 mb-3">
                <label for="cast" class="form-label">Cast</label>
                <input type="text" name="cast" id="cast" class="form-control" placeholder="Cast Members">
            </div>
        </div>
        <div class="row">
            <!-- Country -->
            <div class="col-md-6 mb-3">
                <label for="country" class="form-label">Country</label>
                <input type="text" name="country" id="country" class="form-control" placeholder="Country of Production">
            </div>
            <!-- Language -->
            <div class="col-md-6 mb-3">
                <label for="language" class="form-label">Language</label>
                <input type="text" name="language" id="language" class="form-control" placeholder="Language">
            </div>
        </div>
        <div class="text-center">
            <button type="submit" class="btn btn-outline-light mt-3">Search</button>
        </div>
    </form>
</div>

<!-- Movie List Header -->
<header class="container mt-5">
    <h1 class="text-white">All Technical Movies</h1>
</header>

<!-- Loop through each movie in the movieSearchResult array -->
<div class="container mt-4">
    <div class="row">
        {% for movie in movieSearchResult %}
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="card bg-dark text-white movie-card">
                <div class="row g-0">
                    <div class="col-5">
                        <img src="{{ movie.poster }}" class="card-img-left img-fluid" alt="{{ movie.title }} poster">
                    </div>
                    <div class="col-7">
                        <div class="card-body">
                            <h5 class="card-title">{{ movie.title }}</h5>
                            <p class="card-text">{{ movie.fullplot }}</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <small class="text-muted">{{ movie.director }}</small>
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-heart-fill text-danger me-2"></i>
                                    <small class="text-muted">{{ movie.imdbRating }}</small>
                                </div>
                            </div>
                            <div class="mt-3">
                                <a href='movie.html/{{ movie.id }}' class="btn btn-outline-light btn-sm">Read Now</a>
                                <a href='edit/{{ movie.id }}' class="btn btn-outline-light btn-sm">Edit</a>
                                <form action='delete/{{ movie.id }}' method="POST" style="display:inline;">
                                    <button class="btn btn-outline-light btn-sm" type="submit">Delete</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
<!-- End loop through movieSearchResult -->

{% endblock %}